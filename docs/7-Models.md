# Models

## Eloquent

`Eloquent` is a Laravel object-relational mapper (ORM) that makes it super easy to interact with our database. When using Eloquent, each database table has a corresponding “Model” used to interact with that table. Eloquent models allow you to insert, retrieve, update, and delete records from the database tables.

## Create Product Model

```bash
php artisan make:model Product
```

## Important considerations about Eloquent

Let’s check some considerations when using Laravel Eloquent.

- Eloquent will also assume that each model's corresponding database table has a primary key column named id. For all our migrations, we will use the `id` method which defines an id column.
- Eloquent will assume the Product model stores records in the products table (check the additional ‘s’). This convention applies to all models.
- By default, Eloquent expects `created_at` and `updated_at` columns to existing on your model's corresponding database table. Eloquent will automatically set these column's values when models are created or updated. For all our migrations, we will use the timestamps method which creates these columns.

## Eloquent Key methods

- `Product::all()`: retrieve all product records.
- `Product::find(1)`: retrieve the product with id 1.
- `Product::findOrFail(1)`: it is similar to the previous one, but it will throw an exception if no result is found.
- `Product::create(['name' => 'TV', ...])`: create a new record in the database. You must pass an associative array with the data to be assigned, id is not required since it is autogenerated.
- `Product::destroy(1)`: remove the product with id 1.

## Refactoring Product Model

See [Product List Refactoring](5-products.md#refactoring-product-list).
